#!/usr/bin/env python
#
# Copyright 2004,2007 Free Software Foundation, Inc.
# 
# This file is part of GNU Radio
# 
# GNU Radio is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3, or (at your option)
# any later version.
# 
# GNU Radio is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with GNU Radio; see the file COPYING.  If not, write to
# the Free Software Foundation, Inc., 51 Franklin Street,
# Boston, MA 02110-1301, USA.
# 

from gnuradio import gr, gr_unittest, blks2, eng_notation, optfir

from gnuradio import audio

from gnuradio.eng_option import eng_option

from gnuradio.blks2impl.fm_emph import fm_deemph
from gnuradio.blks2impl.standard_squelch import standard_squelch

class cube_test (gr_unittest.TestCase):

    def setUp (self):
        self.tb = gr.top_block ()

    def tearDown (self):
        self.tb = None

    def test_001_fir_filter_fff (self):

        audio_rate = 32e3
        rx_baseband_bw = 5000
        width_of_transition_band = 0.35*rx_baseband_bw
        gr_decim = 8
        sink_volume = 10
        
        audio_coeffs = gr.firdes.low_pass (1.0,                  #gain
                                           audio_rate,      #sampling rate
                                           rx_baseband_bw,
                                           width_of_transition_band,
                                           gr.firdes.WIN_HAMMING)
        
        audio_filter = gr.fir_filter_fff(gr_decim, audio_coeffs)
       
        print "audio decim FIR filter tap length:", len(audio_coeffs)
        fh_tmp= open('analog_rx_decim_fir_coeff.txt','w')
        fh_tmp.write(str(audio_coeffs))
        fh_tmp.close()   

       # src_data_v0= [0.0, 6.3673152923583984, 0.11642107367515564, 0.078570224344730377, 0.070350296795368195, 0.081342823803424835, 0.090282700955867767, 0.12333466857671738, 0.14881822466850281, 0.2583237886428833, 0.35032331943511963, 0.65874040126800537, 1.7705371379852295, 1.4046473503112793, 0.63692134618759155, 0.55502015352249146, 0.34975561499595642, 0.45586085319519043, 0.68532478809356689, 1.478563666343689, 1.8413152694702148, 0.9435807466506958, 0.50142687559127808, 0.37291073799133301, 0.37752562761306763, 0.51779055595397949, 0.97378391027450562, 1.8052610158920288, 1.4086282253265381, 0.6875883936882019, 0.4321100115776062, 0.37404149770736694, 0.43758103251457214, 0.70168137550354004, 1.4230492115020752, 1.7765191793441772, 0.96406877040863037, 0.5247809886932373, 0.3929131031036377, 0.40043407678604126, 0.55664294958114624, 1.0570660829544067, 1.8295719623565674, 1.3109743595123291, 0.65320968627929688, 0.42742428183555603, 0.38530704379081726, 0.47542896866798401, 0.82077735662460327, 1.6589286327362061, 1.6405633687973022, 0.80580085515975952, 0.46635669469833374, 0.37795069813728333, 0.42588695883750916, 0.69027811288833618, 1.5261116027832031, 1.9116630554199219, 0.91523623466491699, 0.47291910648345947, 0.35389935970306396, 0.38649013638496399, 0.68582445383071899, 2.0649638175964355, 2.0828931331634521, 0.65476447343826294, 0.30737540125846863, 0.20034897327423096, 0.15611392259597778, 0.13553877174854279, 0.12657430768013, 0.12479418516159058, 0.12862564623355865, 0.1379627138376236, 0.15383265912532806, 0.17864154279232025, 0.21697723865509033, 0.27732130885124207, 0.37495863437652588, 0.53334063291549683, 0.76182299852371216, 0.9608495831489563, 0.936309814453125, 0.75169175863265991, 0.61065292358398438, 0.58534026145935059, 0.71207672357559204, 1.0712090730667114, 1.4719417095184326, 1.2215985059738159, 0.77470910549163818, 0.56193333864212036, 0.52055507898330688, 0.62285512685775757, 0.93470770120620728, 1.4040093421936035, 1.3290246725082397, 0.8509334921836853, 0.58161377906799316, 0.50181818008422852, 0.55770868062973022, 0.79242813587188721, 1.2701178789138794, 1.4675236940383911, 1.0041801929473877, 0.64176720380783081, 0.50587886571884155, 0.51121276617050171, 0.65986025333404541, 1.0320262908935547, 1.4517182111740112, 1.2154222726821899, 0.76487553119659424, 0.54556691646575928, 0.4920654296875, 0.56652343273162842, 0.81916320323944092, 1.2863094806671143, 1.413896918296814, 0.95929133892059326, 0.62606722116470337, 0.50161343812942505, 0.51055824756622314, 0.65952956676483154, 1.0278230905532837, 1.4425462484359741, 1.2150568962097168, 0.76947635412216187, 0.55163329839706421, 0.50348824262619019, 0.59819000959396362, 0.91768854856491089, 1.4703564643859863, 1.4112833738327026, 0.83922970294952393, 0.50901120901107788, 0.38428282737731934, 0.3230234682559967, 0.30120006203651428, 0.30386790633201599, 0.33676800131797791, 0.39895766973495483, 0.49102127552032471, 0.68317604064941406, 0.62496381998062134, 2.2580463886260986, 5.2778487205505371, 4.5358080863952637, -4.3470854759216309, 2.2384672164916992, -0.55319172143936157, 1.5407407283782959, 0.62838399410247803, 0.7292751669883728, 0.42456233501434326, 0.2982025146484375, 0.19348306953907013, 0.12486279010772705, 0.057903960347175598, -0.0054109562188386917, -0.12270775437355042, -0.32192310690879822, -0.63932281732559204, -0.80519741773605347, -0.47917398810386658, -0.0094086658209562302, 0.35856902599334717, 0.58848905563354492, 0.6409270167350769, 0.50906276702880859, 0.36143997311592102, 0.25211247801780701, 0.17280057072639465, 0.11413875222206116, 0.060988280922174454, 0.0019655658397823572, -0.079583965241909027, -0.1718294620513916, -0.28677740693092346, -0.35148721933364868, -0.32449615001678467, -0.23211239278316498, -0.12918783724308014, -0.040109533816576004, 0.017119362950325012, 0.063788071274757385, 0.11653298139572144, 0.19338349997997284, 0.30517488718032837, 0.52748274803161621, 0.93343871831893921, 1.1764780282974243, 0.85302221775054932, 0.48331829905509949, 0.27693033218383789, 0.16979297995567322, 0.11530036479234695, 0.087345652282238007, 0.078884541988372803, 0.08995460718870163, 0.12429212778806686, 0.25668928027153015, 0.78278189897537231, 2.5388855934143066, 1.3486090898513794, 0.30868542194366455, 0.079671181738376617, -0.34250837564468384, -5.3776073455810547, -0.22955581545829773, -0.032998662441968918, -0.012498725205659866, 0.018127391114830971, 0.042255040258169174, 0.13816347718238831, 0.80760186910629272, 4.144324779510498, 0.55915337800979614, 0.13048997521400452, 0.058942645788192749, 0.042315579950809479, 0.074263431131839752, 0.17074665427207947, 0.47557100653648376, 1.5397906303405762, 1.8918342590332031, 0.57842028141021729, 0.14659383893013, -0.003866520244628191, -0.089626438915729523, -0.16526287794113159, -0.24272994697093964, -0.34086498618125916, -0.45300906896591187, -0.56476789712905884, -0.58796161413192749, -0.49546432495117188, -0.37306311726570129, -0.2159484475851059, -0.080911837518215179, 0.063115492463111877, 0.22213080525398254, 0.38326430320739746, 0.45520567893981934, 0.40945789217948914, 0.30452823638916016, 0.18730166554450989, 0.11134491115808487, 0.064457714557647705, 0.044053632766008377, 0.058719281107187271, 0.15050344169139862, 0.58047664165496826, 2.5909650325775146, 1.4954993724822998, 0.2449038177728653, 0.015823859721422195, -0.059715844690799713, -0.1200752854347229, -0.18212336301803589, -0.26009956002235413, -0.3435761034488678, -0.44422769546508789, -0.49052581191062927, -0.49004021286964417, -0.42031201720237732, -0.30025479197502136, -0.17772887647151947, -0.058980565518140793, 0.099890545010566711, 0.36366316676139832, 0.80644863843917847, 1.1669547557830811, 0.84552145004272461, 0.48322799801826477, 0.32398527860641479, 0.3195965588092804, 0.47828468680381775, 0.93696767091751099, 1.3947083950042725, 0.90865206718444824, 0.39604461193084717, 0.14444158971309662, 0.029780380427837372, -0.041133895516395569, -0.10772677510976791, -0.17489336431026459, -0.26721826195716858, -0.42086073756217957, -0.67340922355651855, -0.99446064233779907, -1.0681829452514648, -0.82656347751617432, -0.56245929002761841, -0.43900665640830994, -0.43084865808486938, -0.63121771812438965, -1.6074661016464233, -2.3411555290222168, -0.86236828565597534, -0.36423426866531372, -0.19646933674812317, -0.11336445063352585, -0.047301806509494781, -0.0069001801311969757, 0.034567009657621384, 0.085564836859703064, 0.1156567707657814, 0.13047581911087036, 0.1246132105588913, 0.10072990506887436, 0.047191694378852844, -0.0058967000804841518, -0.055938839912414551, -0.125732421875, -0.21540752053260803, -0.3581385612487793, -0.67935001850128174, -1.3052501678466797, -1.5512585639953613, -0.94069021940231323, -0.55325722694396973, -0.39805558323860168, -0.34842893481254578, -0.32652798295021057, -0.3213253915309906, -0.3138994574546814, -0.30942374467849731, -0.286734938621521, -0.25669708847999573, -0.22474032640457153, -0.19648623466491699, -0.1841130405664444, -0.17754548788070679, -0.18860794603824615, -0.22105754911899567, -0.25710263848304749, -0.30613851547241211, -0.33851200342178345, -0.33764529228210449, -0.2958056628704071, -0.20969325304031372, -0.071770928800106049, 0.13306397199630737, 0.50747001171112061, 0.99702370166778564, 0.93292135000228882, 0.49459362030029297, 0.20508816838264465, 0.054125402122735977, -0.027482587844133377, -0.095735602080821991, -0.17584030330181122, -0.30277931690216064, -0.53551578521728516, -0.93554508686065674, -1.1616725921630859, -0.85332822799682617, -0.47272270917892456, -0.2520405650138855, -0.12661983072757721, -0.017568057402968407, 0.10608295351266861, 0.36700433492660522, 1.0645060539245605, 1.7296085357666016, 0.88019239902496338, 0.31849914789199829, 0.11257196217775345, 0.014192857779562473, -0.05541699007153511, -0.17388486862182617, -0.43167492747306824, -1.1370606422424316, -1.7512657642364502, -0.85560482740402222, -0.3040955662727356, -0.095535479485988617, 0.001088799093849957, 0.060235016047954559, 0.12130207568407059, 0.18268293142318726, 0.25560709834098816, 0.36855986714363098, 0.53637921810150146, 0.85788828134536743, 1.3533051013946533, 1.4829988479614258, 1.0201569795608521, 0.696319580078125, 0.49786943197250366, 0.42814892530441284, 0.59534728527069092, 5.0812616348266602, 0.9417649507522583, 0.24846780300140381, 0.15973542630672455, 0.11159464716911316, 0.072316370904445648, 0.039913393557071686, 0.0072016846388578415, -0.03609529510140419, -0.11256128549575806, -0.24467214941978455, -0.51191896200180054, -0.90769636631011963, -0.99392426013946533, -0.58204025030136108, -0.2038428783416748, 0.043621677905321121, 0.29902434349060059, 0.650909423828125, 1.0210601091384888, 1.0070885419845581, 0.66636180877685547, 0.41750311851501465, 0.30281028151512146, 0.2538495659828186, 0.24528548121452332, 0.27092602849006653, 0.32349741458892822, 0.41348642110824585, 0.53739076852798462, 0.67073774337768555, 0.72667306661605835, 0.66215747594833374, 0.53159910440444946, 0.39607051014900208, 0.28925049304962158, 0.18118734657764435, 0.05974964052438736, -0.11115711182355881, -0.37137189507484436, -0.62939858436584473, -0.67187094688415527, -0.49332216382026672, -0.31376516819000244, -0.20815950632095337, -0.16439823806285858, -0.13027693331241608, -0.11390691995620728, -0.089984618127346039, -0.060604561120271683, -0.025252765044569969, 0.045906275510787964, 0.1826060563325882, 0.44516465067863464, 1.1078158617019653, 1.5795248746871948, 0.88176727294921875, 0.43152713775634766, 0.27483457326889038, 0.22009134292602539, 0.24120970070362091, 0.29937207698822021, 0.43288752436637878, 0.69041258096694946, 1.027795672416687, 1.0887726545333862, 0.77686434984207153, 0.480499267578125, 0.30413895845413208, 0.19878193736076355, 0.11631738394498825, 0.041242014616727829, -0.037753574550151825, -0.16235242784023285, -0.33046552538871765, -0.51944971084594727, -0.60379016399383545, -0.5078771710395813, -0.32812497019767761, -0.1779901385307312, -0.067659847438335419, 0.0062731169164180756, 0.066865116357803345, 0.14101581275463104, 0.24260635673999786, 0.39292705059051514, 0.56743884086608887, 0.68450295925140381, 0.51516300439834595, 0.18758673965930939, -0.17058919370174408, -0.54945743083953857, -0.71762621402740479, -0.59835201501846313, -0.39014163613319397, -0.24362704157829285, -0.17042915523052216, -0.14883139729499817, -0.17996934056282043, -0.44960886240005493, -3.2616920471191406, -1.7929544448852539, -0.27696225047111511, -0.10123932361602783, -0.034804817289113998, 0.0068692811764776707, 0.089163482189178467, 0.6591607928276062, 4.4536504745483398, 0.49111095070838928, 0.086217537522315979, 0.014175248332321644, -0.0019876712467521429, -0.007356307003647089, 0.0066801700741052628, 0.035482112318277359, 0.10870194435119629, 0.29242026805877686, 0.74122673273086548, 1.2812579870223999, 0.89010047912597656, 0.30990582704544067, 0.047071121633052826, -0.083839535713195801, -0.14853742718696594, -0.20141634345054626, -0.24055586755275726, -0.27984562516212463, -0.32434093952178955, -0.37736392021179199, -0.42625829577445984, -0.46806338429450989, -0.46760508418083191, -0.42372554540634155, -0.35870105028152466, -0.28639605641365051, -0.21252654492855072, -0.16739384829998016, -0.1486549973487854, -0.13757283985614777, -0.17634391784667969, -0.28207173943519592, -0.483030766248703, -0.81972455978393555, -1.0571787357330322, -0.84550446271896362, -0.56284385919570923, -0.41688293218612671, -0.36836016178131104, -0.39690172672271729, -0.47133961319923401, -0.5986708402633667, -0.67254799604415894, -0.6194952130317688, -0.52413159608840942, -0.37560772895812988, -0.26520964503288269, -0.17859683930873871, -0.10691075772047043, -0.047627877444028854, 0.0028141946531832218, 0.057206824421882629, 0.084140792489051819, 0.098537757992744446, 0.090958602726459503, 0.047803036868572235, 0.0047971946187317371, -0.028227102011442184, -0.054589878767728806, -0.066023744642734528, -0.062562309205532074, -0.031330756843090057, 0.016802519559860229, 0.14743500947952271, 0.48019379377365112, 1.270371675491333, 1.563362717628479, 0.71698790788650513, 0.31407606601715088, 0.17617914080619812, 0.12908560037612915, 0.13987506926059723, 0.16802294552326202, 0.23442929983139038, 0.31648939847946167, 0.42094838619232178, 0.51466250419616699, 0.5341789722442627, 0.47183826565742493, 0.38662034273147583, 0.33453276753425598, 0.3826596736907959, 0.62307965755462646, 1.168662428855896, 1.2345731258392334, 0.55442166328430176, 0.13410241901874542, -0.010258675552904606, -0.064162693917751312, -0.092600062489509583, -0.069313555955886841, -0.037106238305568695, -0.0074133491143584251, 0.031938381493091583, 0.082348838448524475, 0.13165587186813354, 0.17992667853832245, 0.23816704750061035, 0.26536998152732849, 0.26201790571212769, 0.20208974182605743, 0.043448641896247864, -0.32037991285324097, -1.1279083490371704, -1.3266443014144897, -0.55119532346725464, -0.16686652600765228, -0.015743078663945198, 0.052669201046228409, 0.093243367969989777, 0.14717856049537659, 0.21339698135852814, 0.3189796507358551, 0.47424650192260742, 0.6796039342880249, 0.77466267347335815, 0.64396488666534424, 0.422282874584198, 0.24123209714889526, 0.10169852524995804, 0.00049360509729012847, -0.092877544462680817, -0.17756412923336029, -0.27475848793983459, -0.34920230507850647, -0.39406615495681763, -0.39339420199394226, -0.35578238964080811, -0.29586285352706909, -0.24556869268417358, -0.1931888610124588, -0.15675871074199677, -0.11036192625761032, -0.051690880209207535, 0.018916327506303787, 0.13429352641105652, 0.33700084686279297, 0.59630346298217773, 0.76877671480178833, 0.65184521675109863, 0.41103178262710571, 0.23645547032356262, 0.12416189908981323, 0.055832479149103165, 0.0066664624027907848, -0.04125533252954483, -0.12068896740674973, -0.2555224597454071, -0.63725697994232178, -1.5457943677902222, -1.5893487930297852, -0.68085199594497681, -0.31617170572280884, -0.18765518069267273, -0.14350675046443939, -0.12917664647102356, -0.14142553508281708, -0.17638295888900757, -0.25874307751655579, -0.44439378380775452, -0.97954058647155762, -1.9084378480911255, -1.3552300930023193, -0.64554142951965332, -0.43316483497619629, -0.39148125052452087, -0.42167907953262329, -0.49389258027076721, -0.57286363840103149, -0.60034656524658203, -0.56764084100723267, -0.48382964730262756, -0.38799881935119629, -0.31820669770240784, -0.26822251081466675, -0.25275656580924988, -0.26804637908935547, -0.36548733711242676, -0.73698091506958008, -2.1304318904876709, -1.8620259761810303, -0.61948657035827637, -0.30582833290100098, -0.20398843288421631, -0.16496267914772034, -0.1558416336774826, -0.16269710659980774, -0.20457907021045685, -0.32786187529563904, -0.84211421012878418, -2.892254114151001, -1.4041159152984619, -0.41301161050796509, -0.21623064577579498, -0.15102288126945496, -0.1179385632276535, -0.10091262310743332, -0.091543853282928467, -0.091794051229953766, -0.10160131007432938, -0.12828698754310608, -0.20216968655586243, -0.40235477685928345, -1.1079971790313721, -1.9967305660247803, -0.93799525499343872, -0.29903444647789001, -0.092095367610454559, 0.0054064416326582432, 0.066830500960350037, 0.1154344379901886, 0.15729816257953644, 0.18679463863372803, 0.21909204125404358, 0.23592206835746765, 0.24141544103622437, 0.23725949227809906, 0.26588302850723267, 0.3081606924533844, 0.40683513879776001, 0.51082777976989746, 0.56106775999069214, 0.49033182859420776, 0.34358105063438416, 0.21364082396030426, 0.14011310040950775, 0.09850466251373291, 0.076725631952285767, 0.079720012843608856, 0.097719751298427582, 0.13952262699604034, 0.21701516211032867, 0.36097782850265503, 0.6297568678855896, 0.96130979061126709, 0.98726791143417358, 0.70045995712280273, 0.43812522292137146, 0.30484592914581299, 0.2739163339138031, 0.27672550082206726, 0.30799666047096252, 0.34312817454338074, 0.33704686164855957, 0.2877727746963501, 0.1903177797794342, 0.086863577365875244, -0.0092880111187696457, -0.10123243182897568, -0.18380327522754669, -0.25762411952018738, -0.32012903690338135, -0.38199165463447571, -0.41205686330795288, -0.4200955331325531, -0.39477378129959106, -0.35356718301773071, -0.27570769190788269, -0.17461539804935455, -0.047791972756385803, 0.11630477756261826, 0.34388858079910278, 0.5287100076675415, 0.53039461374282837, 0.380077064037323, 0.22193743288516998, 0.11065461486577988, 0.058897655457258224, 0.030342083424329758, 0.011740010231733322, 0.01349325105547905, 0.021234467625617981, 0.035008039325475693, 0.026632111519575119, -0.082676023244857788, -1.8614163398742676, -2.8515486717224121, -0.0009745760471560061, 0.17731237411499023, 0.19164393842220306, 0.13534890115261078, 0.067330323159694672, -0.00017499012756161392, -0.064237810671329498, -0.13212549686431885, -0.20285464823246002, -0.30203080177307129, -0.42769801616668701, -0.59599268436431885, -0.82521885633468628, -0.96703112125396729, -0.91946744918823242, -0.74503946304321289, -0.59226059913635254, -0.48562833666801453, -0.40792432427406311, -0.35787591338157654, -0.31909137964248657, -0.27366340160369873, -0.21272309124469757, 1.6424123048782349, 4.0132565498352051, -0.16223421692848206, -0.19318006932735443, -0.20326690375804901, -0.21465644240379333, -0.22188907861709595, -0.24792909622192383, -0.2858397364616394, -0.35969293117523193, -0.53961801528930664, -1.203673243522644, -3.0988430976867676, -1.5263891220092773, -0.74742764234542847, -0.61318439245223999, -0.57097506523132324, -0.52047717571258545, -0.46578744053840637, -0.42429295182228088, -0.38354748487472534, -0.35193464159965515, -0.34127584099769592, -0.34184443950653076, -0.3624003529548645, -0.39961963891983032, -0.46526241302490234, -0.55776262283325195, -0.70170563459396362, -0.95679730176925659, -1.5090047121047974, -1.8826301097869873, -1.2500679492950439, -0.69885897636413574, -0.4379245936870575, -0.30354756116867065, -0.23286230862140656, -0.18272483348846436, -0.15208959579467773, -0.13704514503479004, -0.13712981343269348, -0.14693841338157654, -0.16882956027984619, -0.20525407791137695, -0.25591573119163513, -0.32127794623374939, -0.3872121274471283, -0.4408746063709259, -0.4375954270362854, -0.39762184023857117, -0.3027765154838562, -0.12005936354398727, 0.13285675644874573, 0.63140702247619629, 1.0903670787811279, 0.73654425144195557, 0.30329036712646484, 0.077434934675693512, 0.0017178314737975597, -0.030004238709807396, -0.046839196234941483, -0.042611889541149139, -0.035201344639062881, -0.021564038470387459, -0.0045586754567921162, 0.0072741205804049969, 0.019200189039111137, 0.011735826730728149, -0.0036244464572519064, -0.076709046959877014, -0.22550190985202789, -0.40135803818702698, -0.45484468340873718, -0.36886969208717346, -0.23869910836219788, -0.12963798642158508, -0.06789262592792511, -0.011312095448374748, 0.037352167069911957, 0.08726365864276886, 0.15439006686210632, 0.25022777915000916, 0.34537860751152039, 0.41912123560905457, 0.43481290340423584, 0.36577963829040527, 0.26126614212989807, 0.1666681319475174, 0.096677586436271667, 0.045584298670291901, 0.012332718819379807, 0.0064235525205731392, 0.004048127681016922, 0.016369594261050224, 0.048491369932889938, 0.10338076949119568, 0.16832205653190613, 0.22179083526134491, 0.25296095013618469, 0.23403333127498627, 0.19878186285495758, 0.15239788591861725, 0.10829661041498184, 0.08023727685213089, 0.054672025144100189, 0.038522779941558838, 0.019460113719105721, 0.0091482177376747131, -0.0053760986775159836, -0.033736430108547211, -0.079297833144664764, -0.1772984117269516, -0.39017730951309204, -0.91995775699615479, -1.6236435174942017, -1.1101309061050415, -0.51377749443054199, -0.28054279088973999, -0.17530208826065063, -0.14631554484367371, -0.11197417229413986, -0.095842979848384857, -0.083071224391460419, -0.06583607941865921, -0.081026248633861542, -0.13711440563201904, -0.58687752485275269, -3.6486573219299316, -0.86744928359985352, -0.065814904868602753, 0.087574034929275513, 0.15020032227039337, 0.17516835033893585, 0.19036716222763062, 0.18786083161830902, 0.16905009746551514, 0.13019627332687378, 0.074503809213638306, -0.0090879388153553009, -0.2054516077041626, -0.70290631055831909, -1.5511229038238525, -1.1420252323150635, -0.42940869927406311, -0.16040006279945374, -0.058626033365726471, -0.013993882574141026, 0.0019024205394089222, 0.0043716453947126865, 0.005128626711666584, -0.0075469589792191982, -0.042835425585508347, -0.1546279639005661, -0.45354387164115906, -1.2753945589065552, -1.3269227743148804, -0.30069652199745178, 0.26391923427581787, 0.55591076612472534, 0.66865295171737671, 0.58188050985336304, 0.4304250180721283, 0.33349820971488953, 0.26495665311813354, 0.23507054150104523, 0.26033371686935425, 0.36319515109062195, 0.76154911518096924, 2.1347925662994385, 1.8561437129974365, 0.67602038383483887, 0.44388118386268616, 0.50491595268249512, 0.93743515014648438, 1.7954432964324951, 1.4472665786743164, 0.68380463123321533, 0.41172498464584351, 0.34253692626953125, 0.38428884744644165, 0.4799327552318573, 0.63935267925262451, 0.76530939340591431, 0.68814218044281006, 0.48226463794708252, 0.29702237248420715, 0.13567462563514709, 0.0024358767550438643, -0.19010479748249054, -0.60320353507995605, -1.5910570621490479, -1.5578916072845459, -0.63576400279998779, -0.30167034268379211, -0.18334852159023285, -0.14316608011722565, -0.13260199129581451, -0.13756409287452698, -0.16281066834926605, -0.20852252840995789, -0.31599843502044678, -0.62089669704437256, -1.670964241027832, -2.1965229511260986, -0.94517391920089722, -0.64075058698654175, -0.84926044940948486, -1.9670765399932861, -1.8876552581787109, -0.77160876989364624, -0.39572834968566895, -0.26871323585510254, -0.19991768896579742, -0.15399850904941559, -0.10523143410682678, -0.04999137669801712, 0.03274478018283844, 0.1810041069984436, 0.40296182036399841, 0.64280784130096436, 0.68279534578323364]
        
        src_data_v0 = [0.0, 6.3673152923583984, 0.11642107367515564, 0.078570224344730377, 0.070350296795368195, 0.081342823803424835, 0.090282700955867767, 0.12333466857671738, 0.14881822466850281, 0.2583237886428833, 0.35032331943511963, 0.65874040126800537, 1.7705371379852295, 1.4046473503112793, 0.63692134618759155, 0.55502015352249146, 0.34975561499595642, 0.45586085319519043, 0.68532478809356689, 1.478563666343689, 1.8413152694702148, 0.9435807466506958, 0.50142687559127808, 0.37291073799133301, 0.37752562761306763, 0.51779055595397949, 0.97378391027450562, 1.8052610158920288, 1.4086282253265381, 0.6875883936882019, 0.4321100115776062, 0.37404149770736694, 0.43758103251457214, 0.70168137550354004, 1.4230492115020752, 1.7765191793441772, 0.96406877040863037, 0.5247809886932373, 0.3929131031036377, 0.40043407678604126, 0.55664294958114624, 1.0570660829544067, 1.8295719623565674, 1.3109743595123291, 0.65320968627929688, 0.42742428183555603, 0.38530704379081726, 0.47542896866798401, 0.82077735662460327, 1.6589286327362061, 1.6405633687973022, 0.80580085515975952, 0.46635669469833374, 0.37795069813728333, 0.42588695883750916, 0.69027811288833618, 1.5261116027832031, 1.9116630554199219, 0.91523623466491699, 0.47291910648345947, 0.35389935970306396, 0.38649013638496399, 0.68582445383071899, 2.0649638175964355, 2.0828931331634521, 0.65476447343826294, 0.30737540125846863, 0.20034897327423096, 0.15611392259597778, 0.13553877174854279, 0.12657430768013, 0.12479418516159058, 0.12862564623355865, 0.1379627138376236, 0.15383265912532806, 0.17864154279232025, 0.21697723865509033, 0.27732130885124207, 0.37495863437652588, 0.53334063291549683, 0.76182299852371216, 0.9608495831489563, 0.936309814453125, 0.75169175863265991, 0.61065292358398438, 0.58534026145935059, 0.71207672357559204, 1.0712090730667114, 1.4719417095184326, 1.2215985059738159, 0.77470910549163818, 0.56193333864212036, 0.52055507898330688, 0.62285512685775757, 0.93470770120620728, 1.4040093421936035, 1.3290246725082397, 0.8509334921836853, 0.58161377906799316, 0.50181818008422852, 0.55770868062973022, 0.79242813587188721, 1.2701178789138794, 1.4675236940383911, 1.0041801929473877, 0.64176720380783081, 0.50587886571884155, 0.51121276617050171, 0.65986025333404541, 1.0320262908935547, 1.4517182111740112, 1.2154222726821899, 0.76487553119659424, 0.54556691646575928, 0.4920654296875, 0.56652343273162842, 0.81916320323944092, 1.2863094806671143, 1.413896918296814, 0.95929133892059326, 0.62606722116470337, 0.50161343812942505, 0.51055824756622314, 0.65952956676483154, 1.0278230905532837, 1.4425462484359741, 1.2150568962097168, 0.76947635412216187, 0.55163329839706421, 0.50348824262619019, 0.59819000959396362, 0.91768854856491089, 1.4703564643859863, 1.4112833738327026, 0.83922970294952393, 0.50901120901107788, 0.38428282737731934, 0.3230234682559967, 0.30120006203651428, 0.30386790633201599, 0.33676800131797791, 0.39895766973495483, 0.49102127552032471, 0.68317604064941406, 0.62496381998062134, 2.2580463886260986, 5.2778487205505371, 4.5358080863952637, -4.3470854759216309, 2.2384672164916992, -0.55319172143936157, 1.5407407283782959, 0.62838399410247803, 0.7292751669883728, 0.42456233501434326, 0.2982025146484375, 0.19348306953907013, 0.12486279010772705, 0.057903960347175598, -0.0054109562188386917, -0.12270775437355042, -0.32192310690879822, -0.63932281732559204, -0.80519741773605347, -0.47917398810386658, -0.0094086658209562302, 0.35856902599334717, 0.58848905563354492, 0.6409270167350769, 0.50906276702880859, 0.36143997311592102, 0.25211247801780701, 0.17280057072639465, 0.11413875222206116, 0.060988280922174454, 0.0019655658397823572, -0.079583965241909027, -0.1718294620513916, -0.28677740693092346, -0.35148721933364868, -0.32449615001678467, -0.23211239278316498, -0.12918783724308014, -0.040109533816576004, 0.017119362950325012, 0.063788071274757385, 0.11653298139572144, 0.19338349997997284, 0.30517488718032837, 0.52748274803161621, 0.93343871831893921, 1.1764780282974243, 0.85302221775054932, 0.48331829905509949, 0.27693033218383789, 0.16979297995567322, 0.11530036479234695, 0.087345652282238007, 0.078884541988372803, 0.08995460718870163, 0.12429212778806686, 0.25668928027153015, 0.78278189897537231, 2.5388855934143066, 1.3486090898513794, 0.30868542194366455, 0.079671181738376617, -0.34250837564468384, -5.3776073455810547, -0.22955581545829773, -0.032998662441968918, -0.012498725205659866, 0.018127391114830971, 0.042255040258169174, 0.13816347718238831, 0.80760186910629272, 4.144324779510498, 0.55915337800979614, 0.13048997521400452, 0.058942645788192749, 0.042315579950809479, 0.074263431131839752, 0.17074665427207947, 0.47557100653648376, 1.5397906303405762, 1.8918342590332031, 0.57842028141021729, 0.14659383893013, -0.003866520244628191, -0.089626438915729523, -0.16526287794113159, -0.24272994697093964, -0.34086498618125916, -0.45300906896591187, -0.56476789712905884, -0.58796161413192749, -0.49546432495117188, -0.37306311726570129, -0.2159484475851059, -0.080911837518215179, 0.063115492463111877, 0.22213080525398254, 0.38326430320739746, 0.45520567893981934, 0.40945789217948914, 0.30452823638916016, 0.18730166554450989, 0.11134491115808487, 0.064457714557647705, 0.044053632766008377, 0.058719281107187271, 0.15050344169139862, 0.58047664165496826, 2.5909650325775146, 1.4954993724822998, 0.2449038177728653, 0.015823859721422195, -0.059715844690799713, -0.1200752854347229, -0.18212336301803589, -0.26009956002235413, -0.3435761034488678, -0.44422769546508789, -0.49052581191062927, -0.49004021286964417, -0.42031201720237732, -0.30025479197502136, -0.17772887647151947, -0.058980565518140793, 0.099890545010566711, 0.36366316676139832, 0.80644863843917847, 1.1669547557830811, 0.84552145004272461, 0.48322799801826477, 0.32398527860641479, 0.3195965588092804, 0.47828468680381775, 0.93696767091751099, 1.3947083950042725, 0.90865206718444824, 0.39604461193084717, 0.14444158971309662, 0.029780380427837372, -0.041133895516395569, -0.10772677510976791, -0.17489336431026459, -0.26721826195716858, -0.42086073756217957, -0.67340922355651855, -0.99446064233779907, -1.0681829452514648, -0.82656347751617432, -0.56245929002761841, -0.43900665640830994, -0.43084865808486938, -0.63121771812438965, -1.6074661016464233, -2.3411555290222168, -0.86236828565597534, -0.36423426866531372, -0.19646933674812317, -0.11336445063352585, -0.047301806509494781, -0.0069001801311969757, 0.034567009657621384, 0.085564836859703064, 0.1156567707657814, 0.13047581911087036, 0.1246132105588913, 0.10072990506887436, 0.047191694378852844, -0.0058967000804841518, -0.055938839912414551, -0.125732421875, -0.21540752053260803, -0.3581385612487793, -0.67935001850128174, -1.3052501678466797, -1.5512585639953613, -0.94069021940231323, -0.55325722694396973, -0.39805558323860168, -0.34842893481254578, -0.32652798295021057, -0.3213253915309906, -0.3138994574546814, -0.30942374467849731, -0.286734938621521, -0.25669708847999573, -0.22474032640457153, -0.19648623466491699, -0.1841130405664444, -0.17754548788070679, -0.18860794603824615, -0.22105754911899567, -0.25710263848304749, -0.30613851547241211, -0.33851200342178345, -0.33764529228210449, -0.2958056628704071, -0.20969325304031372, -0.071770928800106049, 0.13306397199630737, 0.50747001171112061, 0.99702370166778564, 0.93292135000228882, 0.49459362030029297, 0.20508816838264465, 0.054125402122735977, -0.027482587844133377, -0.095735602080821991, -0.17584030330181122, -0.30277931690216064, -0.53551578521728516, -0.93554508686065674, -1.1616725921630859, -0.85332822799682617, -0.47272270917892456, -0.2520405650138855, -0.12661983072757721, -0.017568057402968407, 0.10608295351266861, 0.36700433492660522, 1.0645060539245605, 1.7296085357666016, 0.88019239902496338, 0.31849914789199829, 0.11257196217775345, 0.014192857779562473, -0.05541699007153511, -0.17388486862182617, -0.43167492747306824, -1.1370606422424316, -1.7512657642364502, -0.85560482740402222, -0.3040955662727356, -0.095535479485988617, 0.001088799093849957, 0.060235016047954559, 0.12130207568407059, 0.18268293142318726, 0.25560709834098816, 0.36855986714363098, 0.53637921810150146, 0.85788828134536743, 1.3533051013946533, 1.4829988479614258, 1.0201569795608521, 0.696319580078125, 0.49786943197250366, 0.42814892530441284, 0.59534728527069092, 5.0812616348266602, 0.9417649507522583, 0.24846780300140381, 0.15973542630672455, 0.11159464716911316, 0.072316370904445648, 0.039913393557071686, 0.0072016846388578415, -0.03609529510140419, -0.11256128549575806, -0.24467214941978455, -0.51191896200180054, -0.90769636631011963, -0.99392426013946533, -0.58204025030136108, -0.2038428783416748, 0.043621677905321121, 0.29902434349060059, 0.650909423828125, 1.0210601091384888, 1.0070885419845581, 0.66636180877685547, 0.41750311851501465, 0.30281028151512146, 0.2538495659828186, 0.24528548121452332, 0.27092602849006653, 0.32349741458892822, 0.41348642110824585, 0.53739076852798462, 0.67073774337768555, 0.72667306661605835, 0.66215747594833374, 0.53159910440444946, 0.39607051014900208, 0.28925049304962158, 0.18118734657764435, 0.05974964052438736, -0.11115711182355881, -0.37137189507484436, -0.62939858436584473, -0.67187094688415527, -0.49332216382026672, -0.31376516819000244, -0.20815950632095337, -0.16439823806285858, -0.13027693331241608, -0.11390691995620728, -0.089984618127346039, -0.060604561120271683, -0.025252765044569969, 0.045906275510787964, 0.1826060563325882, 0.44516465067863464, 1.1078158617019653, 1.5795248746871948, 0.88176727294921875, 0.43152713775634766, 0.27483457326889038, 0.22009134292602539, 0.24120970070362091, 0.29937207698822021, 0.43288752436637878, 0.69041258096694946, 1.027795672416687, 1.0887726545333862, 0.77686434984207153, 0.480499267578125, 0.30413895845413208, 0.19878193736076355, 0.11631738394498825, 0.041242014616727829, -0.037753574550151825, -0.16235242784023285, -0.33046552538871765, -0.51944971084594727, -0.60379016399383545, -0.5078771710395813, -0.32812497019767761, -0.1779901385307312, -0.067659847438335419, 0.0062731169164180756, 0.066865116357803345, 0.14101581275463104, 0.24260635673999786, 0.39292705059051514, 0.56743884086608887, 0.68450295925140381, 0.51516300439834595, 0.18758673965930939, -0.17058919370174408, -0.54945743083953857, -0.71762621402740479, -0.59835201501846313, -0.39014163613319397, -0.24362704157829285, -0.17042915523052216, -0.14883139729499817, -0.17996934056282043, -0.44960886240005493, -3.2616920471191406, -1.7929544448852539, -0.27696225047111511, -0.10123932361602783, -0.034804817289113998, 0.0068692811764776707, 0.089163482189178467, 0.6591607928276062, 4.4536504745483398, 0.49111095070838928, 0.086217537522315979, 0.014175248332321644, -0.0019876712467521429, -0.007356307003647089, 0.0066801700741052628, 0.035482112318277359, 0.10870194435119629, 0.29242026805877686, 0.74122673273086548]

        src = gr.vector_source_f (src_data_v0, False)
        
        dst = gr.vector_sink_f()

        self.tb.connect (src, audio_filter)
        self.tb.connect (audio_filter, dst)
        self.tb.run ()

        print dst.data(), len(dst.data())

        #deemph = fm_deemph (audio_rate)
        #volume_control = gr.multiply_const_ff(sink_volume)
        #audio_sink = audio.sink(int(audio_rate),"plughw:0,0")

        #self.tb.connect (src, audio_filter, deemph, volume_control, audio_sink)
        
        #self.tb.run ()
        
        
if __name__ == '__main__':
    gr_unittest.main ()

